# =============================================================================
# Moreyudeals Worker 生产环境配置模板
# =============================================================================
# 使用说明:
# 1. 复制此文件为 .env.production
# 2. 修改下面的配置值
# 3. 不要将 .env.production 提交到 Git
# =============================================================================

# === 数据库配置 (必需) ===
# PostgreSQL数据库连接信息
DB_HOST=localhost
DB_PORT=5432
DB_NAME=moreyudeals
DB_USER=moreyudeals
DB_PASSWORD=your_password_here

# === Sparhamster API 配置 (必需) ===
# Sparhamster网站API配置
SPARHAMSTER_API_URL=https://www.sparhamster.at/wp-json/wp/v2/posts
SPARHAMSTER_API_LIMIT=40
SPARHAMSTER_BASE_URL=https://www.sparhamster.at
SPARHAMSTER_TOKEN=0ccb1264cd81ad8e20f27dd146dfa37d
SPARHAMSTER_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36

# === 抓取配置 ===
# 抓取间隔时间 (分钟)
FETCH_INTERVAL=30

# 随机延迟范围 (分钟)
# 用于防止被识别为爬虫
FETCH_RANDOM_DELAY_MIN=0
FETCH_RANDOM_DELAY_MAX=5

# === 翻译配置 ===
# 是否启用翻译功能
# true: 启用翻译, false: 禁用翻译
TRANSLATION_ENABLED=false

# 翻译批次大小
TRANSLATION_BATCH_SIZE=10

# 翻译目标语言 (逗号分隔)
TRANSLATION_TARGET_LANGUAGES=zh,en

# === DeepL API 配置 (翻译功能需要) ===
# DeepL API密钥
# 免费版: https://www.deepl.com/pro-api
# 付费版: https://www.deepl.com/pro-api
DEEPL_API_KEY=your_deepl_api_key_here

# DeepL API端点
# 免费版: https://api-free.deepl.com/v2
# 付费版: https://api.deepl.com/v2
DEEPL_ENDPOINT=https://api-free.deepl.com/v2

# === Redis 缓存配置 (可选) ===
# 如果需要使用Redis缓存翻译结果，请配置以下选项
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=
# CACHE_TTL=604800

# === 日志配置 ===
# 日志级别: debug, info, warn, error
LOG_LEVEL=info

# Node环境
NODE_ENV=production

# =============================================================================
# 高级配置 (可选)
# =============================================================================

# === 翻译Provider配置 (多Provider架构) ===
# 主要翻译Provider: deepl, microsoft, google
# TRANSLATION_PRIMARY=deepl

# 备用翻译Provider
# TRANSLATION_FALLBACK=microsoft

# Microsoft Translator配置
# MS_KEYS=your_ms_key|westeurope
# MS_ENDPOINT=https://api.cognitive.microsofttranslator.com/translate?api-version=3.0
# MS_MONTHLY_LIMIT=2000000

# Google Translate配置
# GOOGLE_API_KEY=your_google_api_key
# GOOGLE_MONTHLY_LIMIT=500000

# === 翻译质量与成本控制 ===
# 启用翻译缓存
# TRANSLATION_CACHE_ENABLED=true

# 高优先级内容使用的Provider
# HIGH_PRIORITY_PROVIDER=deepl

# 配额警告阈值 (80%)
# QUOTA_WARNING_THRESHOLD=0.8

# 自动故障转移
# AUTO_FALLBACK_ENABLED=true

# =============================================================================
# 配置说明
# =============================================================================
#
# 基本部署 (最小化配置):
# - 只需配置数据库和Sparhamster API
# - TRANSLATION_ENABLED=false
#
# 启用翻译:
# - 设置 TRANSLATION_ENABLED=true
# - 配置 DEEPL_API_KEY
# - 可选配置 Redis 缓存
#
# 生产环境建议:
# - LOG_LEVEL=info
# - NODE_ENV=production
# - 启用 Redis 缓存
# - 配置多个翻译Provider作为备份
#
# =============================================================================
