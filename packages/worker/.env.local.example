# Worker Local Development Configuration
# 本文件用于本地开发环境
# 复制此文件为 .env.local 并填入你的本地配置

# ============================================
# 运行环境
# ============================================
NODE_ENV=development

# ============================================
# 数据库配置 (PostgreSQL)
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=moreyudeals_dev      # 本地开发数据库
DB_USER=prye                 # 你的本地数据库用户名
DB_PASSWORD=                 # 本地数据库密码（如果有）

# ============================================
# Sparhamster 配置
# ============================================
# 开发环境建议禁用，专注测试新功能
SPARHAMSTER_ENABLED=false

SPARHAMSTER_API_URL=https://www.sparhamster.at/wp-json/wp/v2/posts
SPARHAMSTER_API_LIMIT=20
SPARHAMSTER_BASE_URL=https://www.sparhamster.at
SPARHAMSTER_TOKEN=your_token_here
SPARHAMSTER_USER_AGENT=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36

# ============================================
# Preisjaeger 配置
# ============================================
# 开发环境建议启用，用于测试
PREISJAEGER_ENABLED=true

PREISJAEGER_LIST_URL=https://www.preisjaeger.at/neu

# 开发环境：少量抓取，快速测试
PREISJAEGER_MAX_DETAIL_PAGES=3

# 开发环境：较短延迟，加快测试速度
PREISJAEGER_DETAIL_MIN_DELAY=2000   # 2 秒
PREISJAEGER_DETAIL_MAX_DELAY=4000   # 4 秒

PREISJAEGER_USER_AGENT=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36

# 开发环境：较短间隔，方便测试
PREISJAEGER_FETCH_INTERVAL=5        # 5 分钟

# ============================================
# 抓取调度配置
# ============================================
FETCH_INTERVAL=5                    # 开发环境：5 分钟间隔
FETCH_RANDOM_DELAY_MIN=0
FETCH_RANDOM_DELAY_MAX=2            # 开发环境：较短随机延迟
MAX_RETRIES=3

# ============================================
# 翻译配置
# ============================================
# 开发环境建议禁用，避免消耗 API 配额
TRANSLATION_ENABLED=false

TRANSLATION_INTERVAL=5
TRANSLATION_BATCH_SIZE=5            # 开发环境：少量翻译
TRANSLATION_TARGET_LANGUAGES=zh,en
TRANSLATION_PROVIDERS=microsoft,deepl

# ============================================
# DeepL 翻译服务配置
# ============================================
DEEPL_API_KEY=
DEEPL_ENDPOINT=https://api-free.deepl.com/v2

# ============================================
# Microsoft Translator 配置
# ============================================
MICROSOFT_TRANSLATOR_KEY=
MICROSOFT_TRANSLATOR_REGION=germanywestcentral
MICROSOFT_TRANSLATOR_ENDPOINT=https://api.cognitive.microsofttranslator.com

MICROSOFT_TRANSLATOR_KEY_2=
MICROSOFT_TRANSLATOR_REGION_2=germanywestcentral
MICROSOFT_TRANSLATOR_ENDPOINT_2=https://api.cognitive.microsofttranslator.com

# ============================================
# 联盟链接配置
# ============================================
AMAZON_AFFILIATE_TAG=moreyu0a-21

# ============================================
# Redis 配置
# ============================================
# 本地 Redis（可选）
REDIS_URL=redis://localhost:6379

# ============================================
# 日志配置
# ============================================
LOG_LEVEL=debug                     # 开发环境：详细日志

# ============================================
# 本地开发说明
# ============================================
#
# 1. 数据库配置
#    - 使用本地开发数据库 moreyudeals_dev
#    - 用户名通常是你的系统用户名
#    - 密码通常为空（本地 PostgreSQL）
#
# 2. 数据源开关（建议配置）
#    - SPARHAMSTER_ENABLED=false  （禁用，避免干扰测试）
#    - PREISJAEGER_ENABLED=true   （启用，测试新功能）
#
# 3. 测试参数（加快开发速度）
#    - PREISJAEGER_MAX_DETAIL_PAGES=3  （少量数据）
#    - PREISJAEGER_DETAIL_MIN_DELAY=2000  （短延迟）
#    - FETCH_INTERVAL=5  （5分钟，方便快速测试）
#    - TRANSLATION_ENABLED=false  （禁用翻译，节省配额）
#
# 4. 日志级别
#    - LOG_LEVEL=debug  （查看详细日志，便于调试）
#
# 5. 快速测试流程
#    - 复制此文件为 .env.local
#    - 填入你的数据库配置
#    - 运行: npm run dev
#    - 观察日志，验证功能
