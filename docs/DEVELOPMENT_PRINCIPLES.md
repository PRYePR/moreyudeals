# 开发原则与规范 (Development Principles)

## 核心开发原则

### 1. **方案变更需要确认**
- ❌ **禁止**: 在用户未同意的情况下随意修改技术方案
- ✅ **正确**: 任何架构或技术栈变更必须先征得用户同意
- ✅ **正确**: 提出建议时说明利弊，等待用户决策

### 2. **渐进式开发**
- ❌ **禁止**: 一次性修改大量文件
- ✅ **正确**: 每次最多修改 2-3 个相关文件
- ✅ **正确**: 完成一个功能模块后再进行下一个
- ✅ **正确**: 每次提交都是可工作的状态

### 3. **透明化开发流程**
- ✅ **必须**: 每次开发前说明要做什么
- ✅ **必须**: 说明为什么这样做
- ✅ **必须**: 完成后说明做了什么变更
- ✅ **必须**: 遇到问题时及时沟通

## 文件修改规范

### 单次修改限制
```
每次最多修改文件数量：≤ 3个
每个文件修改内容：单一功能
修改后状态：可运行、可测试
```

### 修改优先级
1. **配置文件** - 优先级最高
2. **核心功能** - 逐步实现
3. **辅助功能** - 最后添加

## 当前项目状态

### ✅ 已完成阶段
- [x] 环境搭建 (Homebrew, PostgreSQL, Redis)
- [x] Strapi CMS 初始化和配置
- [x] 数据库连接验证
- [x] 基础项目结构创建

### 🔄 当前阶段：翻译系统核心开发
**下一步计划**：
1. 创建翻译系统接口定义 (TypeScript interfaces)
2. 实现 DeepL Provider
3. 实现 Microsoft Translator Provider

### 📋 待开发阶段
- [ ] RSS 抓取和翻译 Worker
- [ ] Next.js 前端项目
- [ ] 集成测试和调试

## 开发工作流

### 每个功能的开发步骤
1. **设计阶段** - 讨论接口和实现方案
2. **实现阶段** - 小步快跑，逐文件实现
3. **测试阶段** - 验证功能正常工作
4. **集成阶段** - 与现有系统集成

### 沟通要求
- 开发前：说明计划和目标
- 开发中：遇到问题及时沟通
- 开发后：总结完成内容和下一步

## 技术决策记录

### 已确认的技术栈
- **CMS**: Strapi 5.24.1
- **数据库**: PostgreSQL 14
- **缓存**: Redis 8.2.1
- **翻译**: DeepL (主) + Microsoft (备) + Google (应急)
- **前端**: Next.js (待初始化)

### 架构决策
- **多 Provider 翻译架构** - 已确认
- **本地开发优先** - 已确认
- **PostgreSQL 而非 SQLite** - 已确认

---

**最后更新**: 2025年9月28日
**更新内容**: 添加开发原则和当前进度状态